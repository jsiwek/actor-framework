<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>libcaf: caf::policy::fork_join Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libcaf
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecaf.html">caf</a></li><li class="navelem"><a class="el" href="namespacecaf_1_1policy.html">policy</a></li><li class="navelem"><a class="el" href="classcaf_1_1policy_1_1fork__join.html">fork_join</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcaf_1_1policy_1_1fork__join-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">caf::policy::fork_join Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>An implementation of the <code><a class="el" href="classcaf_1_1policy_1_1job__queue__policy.html" title="This concept class describes the interface of a policy class for managing the queue(s) of a scheduler...">job_queue_policy</a></code> concept for fork-join like processing of actors.  
 <a href="classcaf_1_1policy_1_1fork__join.html#details">More...</a></p>

<p><code>#include &lt;fork_join.hpp&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ace0f560865fde3fb299c91e0c62f3d32"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace0f560865fde3fb299c91e0c62f3d32"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaf_1_1policy_1_1fork__join.html#ace0f560865fde3fb299c91e0c62f3d32">sync_queue</a> = detail::producer_consumer_list&lt; <a class="el" href="classcaf_1_1resumable.html">resumable</a> &gt;</td></tr>
<tr class="memdesc:ace0f560865fde3fb299c91e0c62f3d32"><td class="mdescLeft">&#160;</td><td class="mdescRight">A thead-safe queue implementation. <br /></td></tr>
<tr class="separator:ace0f560865fde3fb299c91e0c62f3d32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7195a09a9acc20ebae97f7ae8c76688"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa7195a09a9acc20ebae97f7ae8c76688"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaf_1_1policy_1_1fork__join.html#aa7195a09a9acc20ebae97f7ae8c76688">priv_queue</a> = std::deque&lt; <a class="el" href="classcaf_1_1resumable.html">resumable</a> * &gt;</td></tr>
<tr class="memdesc:aa7195a09a9acc20ebae97f7ae8c76688"><td class="mdescLeft">&#160;</td><td class="mdescRight">A queue implementation supporting fast push and pop operations on both ends of the queue. <br /></td></tr>
<tr class="separator:aa7195a09a9acc20ebae97f7ae8c76688"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0fdabe2b987eb944f35e63be411c552a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0fdabe2b987eb944f35e63be411c552a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>fork_join</b> (<a class="el" href="classcaf_1_1policy_1_1fork__join.html">fork_join</a> &amp;&amp;other)</td></tr>
<tr class="separator:a0fdabe2b987eb944f35e63be411c552a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31aada6470f7eb189d4bf097c60f1824"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a31aada6470f7eb189d4bf097c60f1824"></a>
<a class="el" href="classcaf_1_1policy_1_1fork__join.html">fork_join</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classcaf_1_1policy_1_1fork__join.html">fork_join</a> &amp;&amp;other)</td></tr>
<tr class="separator:a31aada6470f7eb189d4bf097c60f1824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d6ff136a8e7561331345bd6b1688247"><td class="memTemplParams" colspan="2"><a class="anchor" id="a8d6ff136a8e7561331345bd6b1688247"></a>
template&lt;class Worker &gt; </td></tr>
<tr class="memitem:a8d6ff136a8e7561331345bd6b1688247"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>external_enqueue</b> (Worker *, <a class="el" href="classcaf_1_1resumable.html">resumable</a> *job)</td></tr>
<tr class="separator:a8d6ff136a8e7561331345bd6b1688247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63bbbd6a8f471e90f9d580e063e1e31c"><td class="memTemplParams" colspan="2"><a class="anchor" id="a63bbbd6a8f471e90f9d580e063e1e31c"></a>
template&lt;class Worker &gt; </td></tr>
<tr class="memitem:a63bbbd6a8f471e90f9d580e063e1e31c"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>internal_enqueue</b> (Worker *ptr, <a class="el" href="classcaf_1_1resumable.html">resumable</a> *job)</td></tr>
<tr class="separator:a63bbbd6a8f471e90f9d580e063e1e31c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa698f8fbcad3280354a357aa9275ef8"><td class="memTemplParams" colspan="2"><a class="anchor" id="afa698f8fbcad3280354a357aa9275ef8"></a>
template&lt;class Worker &gt; </td></tr>
<tr class="memitem:afa698f8fbcad3280354a357aa9275ef8"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classcaf_1_1resumable.html">resumable</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><b>try_external_dequeue</b> (Worker *)</td></tr>
<tr class="separator:afa698f8fbcad3280354a357aa9275ef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adefbf7afbb5f1e2ef3fa1fe523e96d26"><td class="memTemplParams" colspan="2"><a class="anchor" id="adefbf7afbb5f1e2ef3fa1fe523e96d26"></a>
template&lt;class Worker &gt; </td></tr>
<tr class="memitem:adefbf7afbb5f1e2ef3fa1fe523e96d26"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classcaf_1_1resumable.html">resumable</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><b>internal_dequeue</b> (Worker *self)</td></tr>
<tr class="separator:adefbf7afbb5f1e2ef3fa1fe523e96d26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a400c659ebf129364f0791c68b46b34fd"><td class="memTemplParams" colspan="2"><a class="anchor" id="a400c659ebf129364f0791c68b46b34fd"></a>
template&lt;class Worker &gt; </td></tr>
<tr class="memitem:a400c659ebf129364f0791c68b46b34fd"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>clear_internal_queue</b> (Worker *)</td></tr>
<tr class="separator:a400c659ebf129364f0791c68b46b34fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf3f6fccafe0896e66d94c866e004d8d"><td class="memTemplParams" colspan="2"><a class="anchor" id="acf3f6fccafe0896e66d94c866e004d8d"></a>
template&lt;class Worker &gt; </td></tr>
<tr class="memitem:acf3f6fccafe0896e66d94c866e004d8d"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>assert_stealable</b> (Worker *)</td></tr>
<tr class="separator:acf3f6fccafe0896e66d94c866e004d8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accaf0614ea5ed7287c48e4ff7101df16"><td class="memTemplParams" colspan="2"><a class="anchor" id="accaf0614ea5ed7287c48e4ff7101df16"></a>
template&lt;class Worker , typename UnaryFunction &gt; </td></tr>
<tr class="memitem:accaf0614ea5ed7287c48e4ff7101df16"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>consume_all</b> (Worker *, UnaryFunction f)</td></tr>
<tr class="separator:accaf0614ea5ed7287c48e4ff7101df16"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An implementation of the <code><a class="el" href="classcaf_1_1policy_1_1job__queue__policy.html" title="This concept class describes the interface of a policy class for managing the queue(s) of a scheduler...">job_queue_policy</a></code> concept for fork-join like processing of actors. </p>
<p>This work-stealing fork-join implementation uses two queues: a synchronized queue accessible by other threads and an internal queue. Access to the synchronized queue is minimized. The reasoning behind this design decision is that it has been shown that stealing actually is very rare for most workloads [1]. Hence, implementations should focus on the performance in the non-stealing case. For this reason, each worker has an exposed job queue that can be accessed by the central scheduler instance as well as other workers, but it also has a private job list it is currently working on. To account for the load balancing aspect, each worker makes sure that at least one job is left in its exposed queue to allow other workers to steal it.</p>
<p>[1] <a href="http://dl.acm.org/citation.cfm?doid=2398857.2384639">http://dl.acm.org/citation.cfm?doid=2398857.2384639</a> </p>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>libcaf_core/caf/policy/fork_join.hpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jul 28 2014 03:24:07 for libcaf by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
